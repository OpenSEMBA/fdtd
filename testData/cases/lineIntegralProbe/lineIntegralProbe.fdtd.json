{
    "format": "FDTD Input file",
    "__comments": "Test of the implementation of lineIntegral (DC voltage) probes",

    "general": {
        "timeStep": 2e-10,
        "numberOfSteps": 1000
    },
  
    "boundary": {
        "all": {
            "type": "pml",
            "layers": 3, 
            "order": 2.0,
            "reflection": 0.001
        }
    },

    "mesh": {
        "grid": {
            "numberOfCells": [20, 20, 20],
            "steps": { "x": [0.1], "y": [0.1], "z": [0.1] }
        },
        "coordinates": [
            {"id": 1, "relativePosition": [7,  10, 10]},
            {"id": 2, "relativePosition": [7,  10, 13]},
            {"id": 3, "relativePosition": [10, 10, 13]},
            {"id": 4, "relativePosition": [12, 10, 13]},
            {"id": 5, "relativePosition": [13, 10, 13]},
            {"id": 6, "relativePosition": [13, 10, 10]},

            {"id": 7, "relativePosition": [9,  10, 10]},
            {"id": 8, "relativePosition": [9,  10, 11]},
            {"id": 9, "relativePosition": [9,  10, 12]},

            {"id": 10, "relativePosition": [12,  10, 10]},
            {"id": 11, "relativePosition": [12,  10, 11]},
            {"id": 12, "relativePosition": [12,  10, 12]},
            
            {"id": 13, "relativePosition": [10,  10, 12]},
            {"id": 14, "relativePosition": [11,  10, 12]},

            {"id": 15, "relativePosition": [8,  10, 13]},
            {"id": 16, "relativePosition": [9,  10, 13]},
            {"id": 17, "relativePosition": [10,  10, 13]},
            {"id": 18, "relativePosition": [11,  10, 13]},
            {"id": 19, "relativePosition": [12,  10, 13]}, 
            
            {"id": 20, "relativePosition": [7,  10, 10]}, 
            {"id": 21, "relativePosition": [7,  10, 11]}, 
            {"id": 22, "relativePosition": [7,  10, 12]}, 
            {"id": 23, "relativePosition": [13,  10, 10]}, 
            {"id": 24, "relativePosition": [13,  10, 11]}, 
            {"id": 25, "relativePosition": [13,  10, 12]}


        ],
        "elements": [
            {"id": 1, "type": "polyline", "coordinateIds": [1, 21 ,22,2, 3] },
            {"id": 2, "type": "polyline", "coordinateIds": [3, 4, 5, 6] },
            {"id": 3, "type": "cell", "intervals": [[[2, 2, 10], [18, 18, 10]]] },
            {"id": 4, "type": "node", "coordinateIds": [2]},
            {"id": 5, "type": "node", "coordinateIds": [4]},
            {"id": 6, "type": "node", "coordinateIds":  [7]},
            {"id": 7, "type": "node", "coordinateIds":  [8]},
            {"id": 8, "type": "node", "coordinateIds":  [9]},
            {"id": 9, "type": "node", "coordinateIds":  [10]},
            {"id": 10, "type": "node", "coordinateIds": [11]},
            {"id": 11, "type": "node", "coordinateIds": [12]},
            {"id": 12, "type": "node", "coordinateIds": [13]},
            {"id": 13, "type": "node", "coordinateIds": [14]},
            
            {"id": 14, "type": "node", "coordinateIds": [15]},
            {"id": 15, "type": "node", "coordinateIds": [16]},
            {"id": 16, "type": "node", "coordinateIds": [17]},
            {"id": 17, "type": "node", "coordinateIds": [18]},
            {"id": 18, "type": "node", "coordinateIds": [19]},
            {"id": 19, "type": "node", "coordinateIds": [2]},
            
            {"id": 20, "type": "node", "coordinateIds": [20]},
            {"id": 21, "type": "node", "coordinateIds": [21]},
            {"id": 22, "type": "node", "coordinateIds": [22]},
            {"id": 23, "type": "node", "coordinateIds": [23]},
            {"id": 24, "type": "node", "coordinateIds": [24]},
            {"id": 25, "type": "node", "coordinateIds": [25]},
            {"id": 26, "type": "cell", "intervals": [[[10, 10, 13], [11, 10, 13]]] }
        ]
    },

    "materials": [
        {
            "id": 1,
            "type": "wire",
            "radius": 0.005,
            "resistancePerMeter": 0.0,
            "inductancePerMeter": 0.0
        },
        {
            "id": 2,
            "type": "terminal",
            "terminations": [{"type": "open"}]
        },
        {
            "id": 3,
            "type": "terminal",
            "terminations": [{"type": "series", "resistance" : 50 }]
        },
        {
            "id": 4,
            "type": "terminal",
            "terminations": [{"type": "short"}]
        },
        {
            "id": 5,
            "type": "pec"
        },
        {
            "name": "lumped_resistor",
            "id": 6, 
            "type": "lumped",
            "model": "resistor",
            "resistance": 50
        } 

    ],
    "materialAssociations": [
        { 
            "name" : "wire1",
            "materialId": 1,
            "initialTerminalId": 4,
            "endTerminalId": 3,
            "elementIds": [1]
        },
        { 
            "name" : "wire2",
            "materialId": 1,
            "initialTerminalId": 4,
            "endTerminalId": 4,
            "elementIds": [2]
        },
        {
            "name" : "ground", 
            "materialId" : 5,
            "elementIds" : [3]
        },
        {
            "name" : "ground", 
            "materialId" : 5,
            "elementIds" : [3]
        }

    ],

    "sources": [
        {
            "name": "voltage_source",
            "type": "generator",
            "field": "voltage",
            "magnitudeFile": "lineIntegralProbe.exc", 
            "elementIds": [21]
        }    
    ],

    "probes": [
        {"name": "current_12_10_13_x","type": "wire","field": "current", "elementIds": [5],"domain": { "type": "time" }},
        {"name": "current_7_10_12_z","type": "wire","field": "current", "elementIds": [22],"domain": { "type": "time" }},
        {"name": "field_9_10_10_z","type": "point","field": "electric", "directions": ["z"], "elementIds": [6],"domain": { "type": "time" }},
        {"name": "field_9_10_11_z","type": "point","field": "electric", "directions": ["z"], "elementIds": [7],"domain": { "type": "time" }},
        {"name": "field_9_10_12_xz","type": "point","field": "electric", "directions": ["x","z"], "elementIds": [8],"domain": { "type": "time" }},
        {"name": "field_12_10_10_z","type": "point","field": "electric", "directions": ["z"], "elementIds": [9],"domain": { "type": "time" }},
        {"name": "field_12_10_11_z","type": "point","field": "electric", "directions": ["z"], "elementIds": [10],"domain": { "type": "time" }},
        {"name": "field_12_10_12_z","type": "point","field": "electric", "directions": ["z"], "elementIds": [11],"domain": { "type": "time" }},
        {"name": "field_10_10_12_x","type": "point","field": "electric", "directions": ["x"], "elementIds": [12],"domain": { "type": "time" }},
        {"name": "field_11_10_12_x","type": "point","field": "electric", "directions": ["x"], "elementIds": [13],"domain": { "type": "time" }},

        {"name": "field_7_10_13_x","type": "point","field": "electric", "directions": ["x"], "elementIds": [19],"domain": { "type": "time" }},
        {"name": "field_8_10_13_x","type": "point","field": "electric", "directions": ["x"], "elementIds": [14],"domain": { "type": "time" }},
        {"name": "field_9_10_13_x","type": "point","field": "electric", "directions": ["x"], "elementIds": [15],"domain": { "type": "time" }},
        {"name": "field_10_10_13_x","type": "point","field": "electric", "directions": ["x"], "elementIds": [16],"domain": { "type": "time" }},
        {"name": "field_11_10_13_x","type": "point","field": "electric", "directions": ["x"], "elementIds": [17],"domain": { "type": "time" }},
        {"name": "field_12_10_13_x","type": "point","field": "electric", "directions": ["x"], "elementIds": [18],"domain": { "type": "time" }},

        {"name": "field_7_10_10_z","type": "point","field": "electric", "directions": ["z"], "elementIds": [20],"domain": { "type": "time" }},
        {"name": "field_7_10_11_z","type": "point","field": "electric", "directions": ["z"], "elementIds": [21],"domain": { "type": "time" }},
        {"name": "field_7_10_12_z","type": "point","field": "electric", "directions": ["z"], "elementIds": [22],"domain": { "type": "time" }},
        {"name": "field_13_10_10_z","type": "point","field": "electric", "directions": ["z"], "elementIds": [23],"domain": { "type": "time" }},
        {"name": "field_13_10_11_z","type": "point","field": "electric", "directions": ["z"], "elementIds": [24],"domain": { "type": "time" }},
        {"name": "field_13_10_12_z","type": "point","field": "electric", "directions": ["z"], "elementIds": [25],"domain": { "type": "time" }}
    ]
}
