{
    "format": "FDTD Input file",
    "__comments": "Planewave illuminating a PEC panel",

    "general": {
        "timeStep": 3e-12,
        "numberOfSteps": 50000
    },
    
    "boundary": {
        "xLower": {"type": "pec"},
        "xUpper": {"type": "pec"},
        "yLower": {"type": "pmc"},
        "yUpper": {"type": "pmc"},
        "zLower": {"type": "pml"},
        "zUpper": {"type": "pml"}
    },

    "mesh": {
        "grid": {
            "numberOfCells": [2, 2, 6],
            "steps": { "x": [0.020], "y": [0.020], "z": [0.020] }
        },
        "coordinates": [
            {"id": 1, "relativePosition": [1, 1, 1]},
            {"id": 2, "relativePosition": [1, 1, 5]},
            {"id": 3,  "relativePosition": [0, 0, 5]},
            {"id": 4,  "relativePosition": [2, 0, 5]},
            {"id": 5,  "relativePosition": [0, 2, 5]},
            {"id": 6,  "relativePosition": [2, 2, 5]},
            {"id": 7,  "relativePosition": [0, 0, 4.25]},
            {"id": 8,  "relativePosition": [2, 0, 4.25]},
            {"id": 9,  "relativePosition": [0, 2, 4.25]},
            {"id": 10, "relativePosition": [2, 2, 4.25]},
            {"id": 11,  "relativePosition": [1, 0, 5]},
            {"id": 12,  "relativePosition": [2, 1, 5]},
            {"id": 13,  "relativePosition": [0, 1, 5]},
            {"id": 14,  "relativePosition": [1, 2, 5]},
            {"id": 15,  "relativePosition": [1, 1, 5]},
            {"id": 16,  "relativePosition": [1, 0, 4.25]},
            {"id": 17,  "relativePosition": [2, 1, 4.25]},
            {"id": 18,  "relativePosition": [0, 1, 4.25]},
            {"id": 19,  "relativePosition": [1, 2, 4.25]},
            {"id": 20,  "relativePosition": [1, 1, 4.25]}

        ],
        "elements": [
            {"id": 1, "type": "node", "coordinateIds": [1]},
            {"id": 2, "type": "node", "coordinateIds": [2]},
            {"id": 3, "type": "cell", "name": "pw-box", "intervals": [ [ [-1, -1, 3], [3, 3, 35] ] ]},
            {"id": 4, "type": "cell", "name": "square", "intervals": [ [ [0, 0, 5], [2, 2, 5] ] ]},
            {"id": 5, "type": "conformalVolume", "name": "conformal-box", 
                "intervals" : [[[0,0,5],[2,2,5]]],
                "triangles": [ [7, 18, 20], [7, 20, 16], [16, 20, 17], [16, 17, 8], [18, 9, 19], [18, 19,20 ], [20, 19, 10], [20, 10, 17], 
                               [7,11 ,3 ], [16, 11, 3], [16, 4,11 ], [16, 8, 4],
                               [8,12 ,4 ], [8, 17, 12], [17, 10,6 ], [17, 6, 12],
                               [9, 5, 14], [9,14 ,19 ], [19, 14, 6], [19,6 ,10 ],
                               [7,3 ,13 ], [7,13 ,18 ], [18, 13, 5], [18, 5, 9]
                ]
            }
        ]
    },

    "materials": [ 
        {
            "name": "aluminum",
            "id": 1, 
            "type": "multilayeredSurface",
            "layers": [
                {"thickness": 10e-3, "electricConductivity": 100}
            ]
        },
        {
            "name": "pec",
            "id": 2, 
            "type": "pec"
        }
    ],

    "materialAssociations": [
        {"materialId": 2, "elementIds": [4]}
    ],

    "sources": [
        {
            "type": "planewave",
            "magnitudeFile": "gauss.exc",
            "elementIds": [3],
            "direction": {
                "theta": 0.0,
                "phi": 0.0
            },
            "polarization": {
                "theta": 1.5708,
                "phi": 0.0
            }
        }
    ],

    "probes": [
        {
            "name": "front",
            "type": "point",
            "field": "electric",
            "directions": ["x"],
            "elementIds": [1]
        },
        {
            "name": "back",
            "type": "point",
            "field": "electric",
            "directions": ["x"],
            "elementIds": [2]
        }
    ]
}